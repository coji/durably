<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 180">
  <defs>
    <style>
      .state { font: bold 12px system-ui, sans-serif; fill: white; }
      .action { font: 10px ui-monospace, monospace; fill: #9ca3af; }
      .box { rx: 20; }
    </style>
    <marker id="ar" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto">
      <path d="M0,1 L0,7 L7,4 z" fill="#6b7280"/>
    </marker>
    <marker id="ar-purple" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto">
      <path d="M0,1 L0,7 L7,4 z" fill="#a855f7"/>
    </marker>
  </defs>

  <!-- trigger() -->
  <text x="40" y="93" text-anchor="middle" class="action">trigger()</text>
  <path d="M75 90 L105 90" stroke="#6b7280" stroke-width="2" marker-end="url(#ar)"/>

  <!-- pending -->
  <rect x="110" y="70" width="90" height="40" fill="#fbbf24" class="box"/>
  <text x="155" y="95" text-anchor="middle" class="state">pending</text>

  <!-- pending -> running -->
  <path d="M200 90 L250 90" stroke="#6b7280" stroke-width="2" marker-end="url(#ar)"/>
  <text x="225" y="80" text-anchor="middle" class="action">worker</text>

  <!-- running -->
  <rect x="255" y="70" width="90" height="40" fill="#3b82f6" class="box"/>
  <text x="300" y="95" text-anchor="middle" class="state">running</text>

  <!-- running -> completed -->
  <path d="M345 80 L395 50" stroke="#6b7280" stroke-width="2" marker-end="url(#ar)"/>

  <!-- running -> failed -->
  <path d="M345 100 L395 125" stroke="#6b7280" stroke-width="2" marker-end="url(#ar)"/>

  <!-- running -> cancelled -->
  <path d="M345 100 L395 165" stroke="#6b7280" stroke-width="2" marker-end="url(#ar)"/>
  <text x="355" y="145" text-anchor="start" class="action">cancel()</text>

  <!-- completed -->
  <rect x="400" y="25" width="100" height="40" fill="#22c55e" class="box"/>
  <text x="450" y="50" text-anchor="middle" class="state">completed</text>

  <!-- failed -->
  <rect x="400" y="100" width="100" height="40" fill="#ef4444" class="box"/>
  <text x="450" y="125" text-anchor="middle" class="state">failed</text>

  <!-- cancelled -->
  <rect x="400" y="140" width="100" height="40" fill="#6b7280" class="box"/>
  <text x="450" y="165" text-anchor="middle" class="state">cancelled</text>

  <!-- retry path: failed/cancelled -> pending (single curved path) -->
  <path d="M450 100 C450 10, 155 10, 155 65" stroke="#a855f7" stroke-width="2" stroke-dasharray="5,3" fill="none" marker-end="url(#ar-purple)"/>
  <path d="M450 140 L450 100" stroke="#a855f7" stroke-width="2" stroke-dasharray="5,3" fill="none"/>
  <text x="300" y="18" text-anchor="middle" class="action" fill="#a855f7">retry()</text>
</svg>
